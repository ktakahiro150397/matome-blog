# Progress Tracking

## 2025-05-12 フッターお問い合わせ削除・RSSフィード実装

- フッター（/src/components/layout/footer.tsx）から「お問い合わせフォーム」セクションを削除。
- `/src/app/rss.xml/route.ts` を新規作成し、最新記事のRSSフィード（RSS2.0形式）を自動生成するAPIを追加。
  - descriptionはPost.excerptを利用。
- `npm test` で全テストパスを確認。
- 追加・変更ファイルの型・ESLintエラーなし。
- Memory Bankも最新化。

---

## 2025-05-12 サイトマップ自動生成API実装

- `/src/app/sitemap.xml/route.ts` を新規作成し、静的ページ・記事・タグを含むサイトマップ（XML）を自動生成するAPIを追加。
- フッターの「サイトマップ」リンク（/sitemap.xml）からアクセス可能。
- `npm test` で全テストパスを確認。
- 追加・変更ファイルの型・ESLintエラーなし。
- Memory Bankも最新化。

---

## 2025-05-12 Aboutページ新規実装

- `/src/app/about/page.tsx` を新規作成し、プロジェクトの目的・特徴・技術スタック・目指すものを記載したAboutページを追加。
- ナビゲーションから `/about` への導線が有効であることを確認。
- `npm test` で全テストパスを確認。
- 追加・変更ファイルの型・ESLintエラーなし。
- Memory Bankも最新化。

---

## 2025-05-11 Markdown本文のproseクラス二重適用解消

- 記事ページ([slug]/page.tsx)のproseクラスを削除し、MarkdownBody.tsx側でのみproseを適用するよう修正。
- これにより、見出し・リスト・引用などのカスタムスタイルが正しく反映される。
- テスト・型・ESLintエラーなし。

---

## 2025-05-11 Markdown本文のproseクラス反映修正

- MarkdownBody.tsxでproseクラスをdivでラップし、記事本文の見出し・リスト・引用など全体にスタイルが確実に反映されるよう修正。
- テスト・型・ESLintエラーなし。

---

## 2025-05-11 h1〜h5見出しのスタイル改善

- Markdown本文のh1〜h5見出しに、本文との差別化のため大きな文字サイズ・太字・余白・レスポンシブ対応を追加。
- テスト・型・ESLintエラーなし。

---

## 2025-05-11 更新

- `content/posts/markdown-sample.mdx` をDBに投入し、記事として追加。
- `scripts/sync-content.ts` で全MDX記事をDB同期。
- `npm install tsx` で依存追加。
- `npm test` で全テストパスを確認。
- 変更ファイルのエラーなし。
- Memory Bankも最新化。

---

## Project Status: UI/UX・テスト・エラーUI・Router対応 完了

## Completed Items

- ✅ プロジェクトの要件定義
- ✅ 技術スタックの選定
- ✅ アーキテクチャの設計
- ✅ Memory Bankの初期設定
- ✅ プロジェクトの初期化完了
- ✅ Next.jsプロジェクトの作成
- ✅ 基本的なディレクトリ構造の設定
- ✅ MDXパーサーの設定
- ✅ SQLiteデータベースのセットアップ
- ✅ shadcn/uiのセットアップ
- ✅ テーマ切り替え機能の実装
- ✅ ブログ一覧・詳細ページの基本実装
- ✅ ブログカードコンポーネントの実装
- ✅ 目次コンポーネントの実装
- ✅ 関連記事コンポーネントの実装
- ✅ コードシンタックスハイライトの実装
- ✅ タグ機能の実装
  - ✅ タグユーティリティ関数の実装
  - ✅ タグコンポーネントの実装
  - ✅ タグページの実装（/tags/）
  - ✅ タグ詳細ページの実装（/tags/[slug]/）
  - ✅ 日本語タグ対応
- ✅ グローバルレイアウトの実装
  - ✅ ヘッダーの実装（サイト名「つべのまとめ」）
  - ✅ ナビゲーションの実装（新着・タグ一覧リンク）
  - ✅ フッターの実装（各種リンク）
  - ✅ モバイル対応ナビゲーション
- ✅ 検索・ページネーション・同期スクリプトの実装
  - ✅ 記事タイトル・タグ・抜粋・本文による全文検索ロジック
  - ✅ 検索UIコンポーネント
  - ✅ ページネーション対応
  - ✅ BlogListのページャーprops拡張
  - ✅ テスト用MDXデータ20件自動生成
  - ✅ Prismaクライアントのモック化
  - ✅ 検索・ページネーションのテストカバレッジ確保
  - ✅ 同期スクリプトの堅牢化
  - ✅ ナビゲーションのLink構造刷新
  - ✅ BlogCardのタグリンクbutton化・テスト修正
  - ✅ 新着ページ（/blog）実装
  - ✅ Google Fonts適用
  - ✅ 検索履歴機能（localStorage）
  - ✅ 検索UI/UX改善
  - ✅ 検索対象に本文(content)追加
  - ✅ 検索・ページネーション・UIの異常系・エッジケースのテスト拡充（DBエラー、極端なページ番号、UIエラー表示、タグボタンのテスト修正）
- ✅ Next.js App RouterのsearchParams/paramsのプロパティ利用前にawaitを徹底し、全ページで警告が出ないよう修正
  - ✅ BlogCard・記事リストのUI/UX細部改善（タグリンクの視認性・タップ領域・丸み、サムネイル画像・タイトル・日付レイアウト、カードの影・ボーダー・角丸・アニメーション調整、グリッドgap拡大）
- ✅ UI/UX改善（BlogCard・BlogList・ナビゲーション等のデザイン最適化）
- ✅ 検索・ページネーション・異常系テスト拡充
- ✅ BlogCardのタグクリックをNext.js Router遷移に修正
- ✅ 新着記事ページのページ番号不正時のエラーUI実装
- ✅ 検索ページのエラー時テスト改善
- ✅ AppRouterContext.ProviderでテストラップしuseRouterエラー回避
- ✅ searchPostsのモックをvi.fn()で直接作成しESM初期化順序問題を解消
- ✅ BlogCardの日付テストを実際の出力に合わせて修正
- ✅ すべてのテストがパスすることを確認済み
- ✅ 記事ごとのSNSシェアボタン（X）をBlogCard・記事詳細ページに追加、今後拡張可能な設計で実装
- ✅ ShareButtonのUI/UX改善（カラー・hoverエフェクト・アクセシビリティ）
- ✅ TableOfContentsのkey重複エラー修正
- ✅ 記事詳細ページのMarkdown本文表示を強化（h1〜h5、コードブロック、リスト、引用などの見た目をカスタムコンポーネントで最適化）。
- ✅ @mdx-js/reactのMDXProvider導入、MarkdownComponents.tsx新規作成。
- ✅ すべてのテストがパスし、ESLint等のエラーもなし。
- ✅ Server Componentでdynamic/ssr: falseを使わず、MarkdownBodyは通常importで利用する形に修正。
- ✅ Prismaの関連投稿取得クエリのwhere句・include句を正しい形に修正。
- ✅ すべてのテストがパスし、型・ESLintエラーもなし。

## In Progress

- 🚧 ブログ機能の拡張
- 🚧 UI/UXの改善（検索体験・カードUI・モバイル最適化・アクセシビリティ強化など）
- 🚧 SEO対応の実装

## Pending Tasks

1. 記事一覧・カードUIの改善（画像比率統一、スケルトン表示、タグや日付の視認性向上）
2. モバイル最適化（余白やフォントサイズ調整、ナビゲーション改善）
3. アクセシビリティ強化（コントラスト最適化、キーボード操作・aria属性追加）
4. フィードバック・エラー表示（検索結果0件時や通信エラー時の案内文・おすすめ記事表示）
5. ページネーションUI改善（現在ページの強調、ページ数ジャンプなど）
6. 記事詳細ページの目次・関連記事デザイン強化
7. 記事ごとのSNSシェア機能の拡張（他SNS対応など）

## Known Issues / Next Steps

- 追加のUI/UX改善や新機能要望があれば随時対応
- メモリバンク・進捗ファイルは常に最新状態を維持
